<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}100xJobs - #1 Platform for Jobs{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <style>
      body {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
        color: #ffffff;
      }
      
      main {
        flex: 1;
      }
      
      .navbar-brand {
        font-weight: bold;
        font-size: 1.5rem;
        background: linear-gradient(45deg, #ffc107, #ff8f00);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      
      .navbar-dark {
        background: linear-gradient(90deg, #1a1a2e 0%, #16213e 100%) !important;
        box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        border-bottom: 1px solid #333;
      }
      
      .footer {
        background: linear-gradient(90deg, #1a1a2e 0%, #16213e 100%);
        border-top: 1px solid #333;
        color: #ffffff;
      }
      
      .card {
        background: linear-gradient(145deg, #2a2a3e, #1e1e2e);
        border: 1px solid #333;
        color: #ffffff;
      }
      
      .btn-primary {
        background: linear-gradient(45deg, #ffc107, #ff8f00);
        border: none;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
        transition: all 0.3s ease;
      }
      
      .btn-primary:hover {
        background: linear-gradient(45deg, #ff8f00, #ffc107);
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(255,193,7,0.4);
      }
      
      .btn-outline-primary {
        border: 2px solid #ffc107;
        color: #ffc107;
        font-weight: 600;
        transition: all 0.3s ease;
      }
      
      .btn-outline-primary:hover {
        background: #ffc107;
        color: #000;
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(255,193,7,0.4);
      }
      
      .btn-outline-secondary {
        border: 2px solid #6c757d;
        color: #6c757d;
        transition: all 0.3s ease;
      }
      
      .btn-outline-secondary:hover {
        background: #6c757d;
        color: #fff;
        transform: translateY(-2px);
      }
      
      .btn-outline-warning {
        border: 2px solid #ffc107;
        color: #ffc107;
        transition: all 0.3s ease;
      }
      
      .btn-outline-warning:hover {
        background: #ffc107;
        color: #000;
        transform: translateY(-2px);
      }
      
      .btn-outline-info {
        border: 2px solid #17a2b8;
        color: #17a2b8;
        transition: all 0.3s ease;
      }
      
      .btn-outline-info:hover {
        background: #17a2b8;
        color: #fff;
        transform: translateY(-2px);
      }
      
      .btn-outline-danger {
        border: 2px solid #dc3545;
        color: #dc3545;
        transition: all 0.3s ease;
      }
      
      .btn-outline-danger:hover {
        background: #dc3545;
        color: #fff;
        transform: translateY(-2px);
      }
      
      .alert {
        border: none;
        border-radius: 10px;
        font-weight: 500;
      }
      
      .alert-success {
        background: linear-gradient(45deg, #28a745, #20c997);
        color: white;
      }
      
      .alert-danger {
        background: linear-gradient(45deg, #dc3545, #e74c3c);
        color: white;
      }
      
      .alert-warning {
        background: linear-gradient(45deg, #ffc107, #ff8f00);
        color: #000;
      }
      
      .alert-info {
        background: linear-gradient(45deg, #17a2b8, #20c997);
        color: white;
      }
      
      .dropdown-menu {
        background: linear-gradient(145deg, #2a2a3e, #1e1e2e);
        border: 1px solid #333;
      }
      
      .dropdown-item {
        color: #ffffff;
        transition: all 0.3s ease;
      }
      
      .dropdown-item:hover {
        background: linear-gradient(45deg, #ffc107, #ff8f00);
        color: #000;
      }
      
      .nav-link {
        transition: all 0.3s ease;
      }
      
      .nav-link:hover {
        color: #ffc107 !important;
        transform: translateY(-1px);
      }
      
      h1, h2, h3, h4, h5, h6 {
        color: #ffc107;
      }
      
      .text-primary {
        color: #ffc107 !important;
      }
      
      .bg-primary {
        background: linear-gradient(45deg, #ffc107, #ff8f00) !important;
      }
      
      .badge {
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand" href="/">
          <i class="bi bi-briefcase-fill me-2"></i>100xJobs
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample" aria-controls="navbarsExample" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarsExample">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="bi bi-house"></i> Home
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'jobs:home' %}">
                <i class="bi bi-search"></i> Browse Jobs
              </a>
            </li>
            {% if user.is_authenticated %}
              {% if user.profile.is_employer %}
                <li class="nav-item">
                  <a class="nav-link" href="{% url 'jobs:job_create' %}">
                    <i class="bi bi-plus-circle"></i> Post Job
                  </a>
                </li>
              {% endif %}
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <i class="bi bi-person-circle"></i> Dashboard
                </a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="{% url 'admin:index' %}"><i class="bi bi-person"></i> Profile</a></li>
                  {% if user.profile.is_job_seeker %}
                    <li><a class="dropdown-item" href="{% url 'jobs:my_applications' %}"><i class="bi bi-file-earmark-text"></i> My Applications</a></li>
                    <li><a class="dropdown-item" href="{% url 'jobs:saved_jobs' %}"><i class="bi bi-bookmark"></i> Saved Jobs</a></li>
                  {% endif %}
                  {% if user.profile.is_employer %}
                    <li><a class="dropdown-item" href="{% url 'jobs:employer_dashboard' %}"><i class="bi bi-briefcase"></i> Dashboard</a></li>
                  {% endif %}
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="{% url 'admin:index' %}"><i class="bi bi-gear"></i> Settings</a></li>
                </ul>
              </li>
            {% endif %}
          </ul>
          <ul class="navbar-nav ms-auto">
            {% if user.is_authenticated %}
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <i class="bi bi-person-circle me-1"></i>{{ user.get_full_name|default:user.username }}
                  <span class="badge bg-secondary ms-1">{{ user.profile.get_role_display }}</span>
                </a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="{% url 'accounts:logout' %}"><i class="bi bi-box-arrow-right"></i> Logout</a></li>
                </ul>
              </li>
            {% else %}
              <li class="nav-item">
                <a class="nav-link" href="{% url 'accounts:login' %}">
                  <i class="bi bi-box-arrow-in-right"></i> Login
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link btn btn-primary text-white ms-2" href="{% url 'accounts:register' %}">
                  <i class="bi bi-person-plus"></i> Register
                </a>
              </li>
            {% endif %}
          </ul>
        </div>
      </div>
    </nav>
    
    <main class="container-fluid px-0">
      {% for message in messages %}
        <div class="container mt-3">
          <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        </div>
      {% endfor %}
      
      <div class="container">
        {% block content %}{% endblock %}
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer mt-5 py-4">
      <div class="container">
        <div class="row">
          <div class="col-md-4">
            <h5><i class="bi bi-briefcase-fill me-2"></i>100xJobs</h5>
            <p class="text-white">#1 Platform for jobs. Connecting talent with opportunities.</p>
          </div>
          <div class="col-md-4">
            <h6>Quick Links</h6>
            <ul class="list-unstyled">
              <li><a href="/" class="text-decoration-none text-warning">Home</a></li>
              <li><a href="{% url 'jobs:home' %}" class="text-decoration-none text-warning">Browse Jobs</a></li>
              <li><a href="{% url 'accounts:register' %}" class="text-decoration-none text-warning">Join Us</a></li>
              <li><a href="{% url 'admin:index' %}" class="text-decoration-none text-warning">Contact</a></li>
            </ul>
          </div>
          <div class="col-md-4">
            <h6>For Employers</h6>
            <ul class="list-unstyled">
              <li><a href="{% url 'jobs:job_create' %}" class="text-decoration-none text-warning">Post Jobs</a></li>
              <li><a href="{% url 'accounts:register' %}" class="text-decoration-none text-warning">Employer Signup</a></li>
              <li><a href="{% url 'admin:index' %}" class="text-decoration-none text-warning">Help Center</a></li>
            </ul>
          </div>
        </div>
        <hr>
        <div class="row">
          <div class="col-12 text-center">
            <p class="text-muted mb-0">&copy; 2024 100xJobs. All rights reserved.</p>
          </div>
        </div>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JavaScript for enhanced functionality -->
    <script>
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add loading animation to buttons
        document.querySelectorAll('.btn').forEach(button => {
            button.addEventListener('click', function() {
                if (!this.classList.contains('no-loading')) {
                    const originalText = this.innerHTML;
                    this.innerHTML = '<i class="bi bi-hourglass-split"></i> Loading...';
                    this.disabled = true;
                    
                    // Re-enable after 2 seconds (for demo purposes)
                    setTimeout(() => {
                        this.innerHTML = originalText;
                        this.disabled = false;
                    }, 2000);
                }
            });
        });

        // Add typing effect to hero title
        function typeWriter(element, text, speed = 100) {
            let i = 0;
            element.innerHTML = '';
            function type() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(type, speed);
                }
            }
            type();
        }

        // Initialize typing effect on page load
        document.addEventListener('DOMContentLoaded', function() {
            const heroTitle = document.querySelector('.hero-section h1');
            if (heroTitle) {
                const originalText = heroTitle.textContent;
                typeWriter(heroTitle, originalText, 50);
            }

            // Add fade-in animation to cards
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            });

            document.querySelectorAll('.job-card, .card').forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(card);
            });
        });

        // Add particle effect to hero section
        function createParticle() {
            const particle = document.createElement('div');
            particle.style.position = 'absolute';
            particle.style.width = '4px';
            particle.style.height = '4px';
            particle.style.background = '#ffc107';
            particle.style.borderRadius = '50%';
            particle.style.pointerEvents = 'none';
            particle.style.opacity = '0.7';
            
            const heroSection = document.querySelector('.hero-section');
            if (heroSection) {
                heroSection.style.position = 'relative';
                heroSection.style.overflow = 'hidden';
                heroSection.appendChild(particle);
                
                const startX = Math.random() * heroSection.offsetWidth;
                const startY = heroSection.offsetHeight;
                
                particle.style.left = startX + 'px';
                particle.style.top = startY + 'px';
                
                const animation = particle.animate([
                    { transform: 'translateY(0px)', opacity: 0.7 },
                    { transform: 'translateY(-' + heroSection.offsetHeight + 'px)', opacity: 0 }
                ], {
                    duration: 3000,
                    easing: 'linear'
                });
                
                animation.addEventListener('finish', () => {
                    particle.remove();
                });
            }
        }

        // Create particles periodically
        setInterval(createParticle, 300);

        // Add search suggestions
        const searchInput = document.querySelector('input[name="q"]');
        if (searchInput) {
            const suggestions = ['Software Engineer', 'Data Scientist', 'Product Manager', 'UX Designer', 'DevOps Engineer'];
            let currentSuggestion = 0;
            
            function rotatePlaceholder() {
                searchInput.placeholder = `Search for ${suggestions[currentSuggestion]}...`;
                currentSuggestion = (currentSuggestion + 1) % suggestions.length;
            }
            
            setInterval(rotatePlaceholder, 2000);
        }
    </script>
  </body>
</html>
